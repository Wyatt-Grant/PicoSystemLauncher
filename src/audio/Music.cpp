#pragma once

#include "picosystem.hpp"
#include "rttl.cpp"
#include "../globals/Basic.cpp"

using namespace picosystem;

const std::string songs[] = {
    "Pico-Man Intro:b=90:32b,32p,32b6,32p,32f#6,32p,32d#6,32p,32b6,32f#6,16p,16d#6,16p,32c6,32p,32c7,32p,32g6,32p,32e6,32p,32c7,32g6,16p,16e6,16p,32b,32p,32b6,32p,32f#6,32p,32d#6,32p,32b6,32f#6,16p,16d#6,16p,32d#6,32e6,32f6,32p,32f6,32f#6,32g6,32p,32g6,32g#6,32a6,32p,32b.6",
    "PKMN Battle Song:d=8,o=7,b=185:16c6,16b5,16a#5,16a5,16a#5,16a5,16g#5,16g5,16g#5,16g5,16f#5,16f5,16f#5,16f5,16e5,16d#5,16e5,16d#5,16d5,16c#5,16d5,16c#5,16c5,16b4,16c5,16b4,16a#4,16a4,16a#4,16b4,16c5,16c#5,4g5,p,4a#4,p,4d5,4c5,4c#5,4d5,4p,4d#5,p,4a#4,p,4d#5,4c5,4d5,2d#5,4d6,p,4a#5,p,4d6,4c6,4c#6,4d6,4p,4d#6,p,4a#5,p,4d#6,4c6,4d6,2d#6,4d.5,4b.4,4b4,4f.5,4e.5,4c5,2g#5,16a#5,16a5,16g#5,16g5,16g#5,16a5,16a#5,16b5,2c6,16b5,16a#5,16a5,16g#5,16a5,16a#5,16b5,16c6,4d.5,4b.4,4b4,4f.5,4e.5,4d5,2e5,2d5,2c5,2f5,4d#.5,4c.5,4c5,4f#.5,4f.5,4c#5,2a5,16b5,16a#5,16a5,16g#5,16a5,16a#5,16b5,16c6,2c#6,16c6,16b5,16a#5,16a5,16a#5,16b5,16c6,16c#6,4d#.5,4c.5,4c5,4f#.5,4f.5,4c#5,2f5,2d#5,2c#5,2f#5,4e.5,4d.5,4e5,4f.5,4e.5,4c5,2f5,2c5,4e.5,4d.5,4f5,1g5,2d6,2g6,1g6,1d6,4c5,4d5,4c5,4b4,1c5,4d5,4e5,4d5,4f#5,1g5,4d.5,4b.4,4b4,4f.5,4e.5,4c5,2g#5,16a#5,16a5,16g#5,16g5,16g#5,16a5,16a#5,16b5,2c6,16b5,16a#5,16a5,16g#5,16a5,16a#5,16b5,16c6,4d.5,4b.4,4b4,4f.5,4e.5,4d5,2e5,2d5,2c5,2f5,4d#.5,4c.5,4c5,4f#.5,4f.5,4c#5,2a5,16b5,16a#5,16a5,16g#5,16a5,16a#5,16b5,16c6,2c#6,16c6,16b5,16a#5,16a5,16a#5,16b5,16c6,16c#6,4d#.5,4c.5,4c5,4f#.5,4f.5,4c#5,2f5,2d#5,2c#5,2f#5,4e.5,4d.5,4e5,4f.5,4e.5,4c5,2f5,2c5,4e.5,4d.5,4f5,1g5,2d6,2g6,1g6,1d6,4c5,4d5,4c5,4b4,1c5,4d5,4e5,4d5,4f#5,1g5",
    "PKMN Title Song:d=8,o=7,b=120:4d.5,b4,4b4,4d5,2c.5,4d#5,4d.5,g4,4g4,4d5,4d#.5,p,4g#.5,p,16g4,p,16a4,2b4,4g4,16c5,p,16d5,2e5,4c5,16b4,p,16c5,2b4,4a4,16a4,p,16b4,4c.5,4e5,f#5,16g6,3d5,b4,4d5,4b4,4c.5,4f.5,4c5,4d.5,16d#5,16e5,4f.5,16e5,16d#5,2d5,6c5,6b4,6c5,4d.5,b4,4d5,4b4,c5,4d5,e5,6e5,6e5,6c5,2b4,6f5,6e5,6c5,2d5,p,b4,c5,d5,4d.5,b4,4d5,4b4,4c.5,4f.5,4c5,4d.5,16d#5,16e5,4f.5,16e5,16d#5,2d5,6c5,6b4,6c5,4d.5,b4,4d.5,g5,6a5,6g5,6f5,4f5,4e5,4d.5,f5,g5,4d5,g5,g4,b4,d5,g5,f5,a5,c6,f6,4d.6,4c.6,4a#5,16f5,16e5,16d5,16e5,4f5,4d6,4f6,4e.6,g5,6a5,6g5,6f5,2g5,4c6,4c#6,16d6,16p,16d4,16a3,16d4,16p,16d4,16a3,16d4,16p,16d4,16a3,16d4,16p,16d4,16a3,16d4,16p,16d4,16a3,16d4,16p,16d4,16a3,6c6,6c6,6c#6,16d6,16p,16d4,16a3,16d4,16p,16d4,16a3,16d4,16p,16d4,16a3,16d4,16p,16d4,16a3,16d4,16p,16d4,16a3,16d4,16p,16d4,16a3,6c6,6c6,6c#6,16d6,16p,16d4,16a3,16d4,16p,16d4,16a3,16d4,16p,16d4,16a3,16d4,16p,16d4,16a3,16d4,16p,16d4,16a3,16d4,16p,16d4,16a3,6e5,6e5,6c5,1d5,p,1c5,p,1b4,p,2c5,2b4,2d5,2b4,2c5,2f5,2a5,4g.5,16g5,16f#5,2f5,2e5,1d.5,2p,16g4,p.,16g4,3p,16g4,16g4,16g4,p.,16g4,p.,16g4,p.,16a4,48p,16a4,48p,16a4,48p,16a4,48p,16a4,48p,16f#4,48p,16g4,p.,16g3",
    "Korobyeyniki:d=4,o=5,b=160:e6,8b,8c6,8d6,16e6,16d6,8c6,8b,a,8a,8c6,e6,8d6,8c6,b,8b,8c6,d6,e6,c6,a,2a,8p,d6,8f6,a6,8g6,8f6,e6,8e6,8c6,e6,8d6,8c6,b,8b,8c6,d6,e6,c6,a,a",
    "Halloween:d=4,o=5,b=180:8d6,8g,8g,8d6,8g,8g,8d6,8g,8d#6,8g,8d6,8g,8g,8d6,8g,8g,8d6,8g,8d#6,8g,8c#6,8f#,8f#,8c#6,8f#,8f#,8c#6,8f#,8d6,8f#,8c#6,8f#,8f#,8c#6,8f#,8f#,8c#6,8f#,8d6,8f#",
    "Mamma Mia:d=4,o=5,b=40:32f6,32d#6,32f6,32d#6,8p,32d#6,32d#6,32f6,32g6,32f6,32d#6,16p,16f6,32d#6,16p,16g#6,32g#6,32g#6,32g#6,16g6,16d#6,16p,32f6,32d#6,32f6,32d#6,8p,32d#6,32d#6,32f6,32g6,32f6,32d#6,16p,16f6,32d#6,16p,16g#6,32g#6,32g#6,32g#6,16g6,16d#6,16p,16a#.6,32a#6,32a#6,16a#6,16f6,16g6,16g#6,16p,32p,16g.6,32g6,32g6,16g6,16d6,16d#6,16f6,16p,32p,16f6,16d#6,32p,16g#6,32g#6,32g#6,32g#6,32g6,32d#6,32f6,32d#6",
    "No Woman No Cry:d=8,o=5,b=140:4c.6,b.,c.6,b.,4b.,2a.,2p,4p,p,16p,4e.6,f.6,e.6,d.6,2c.6,1p,4p,p,4c.6,b.,d.6,c.6,2a.,1p,4p,p,4e.6,f.6,e.6,d.6,2c.6,1p,4p,p",
    "California Love:d=4,o=5,b=90:8g.6,16f6,8c#6,8d6,8f6,d.6,2p,8g,8a#,8d6,8d6,p,8p,8g,8g,16g,8f.,8g,2p,8g,16a#,16g,8d6,2d6,16g,8g.,g,2p,8g,8a#,8d6,2d.6,16g,16g,8g,8f,8g,p,8g,8c6,8c6,8a#,8a,g,p,8g,c6,8a#,8a,2g",
    "Indiana Jones:d=4,o=5,b=250:e,8p,8f,8g,8p,2c.6,8p.,d,8p,8e,1f,p.,g,8p,8a,8b,8p,2f.6,p,a,8p,8b,2c6,2d6,2e6,e,8p,8f,8g,8p,1c6,p,d6,8p,8e6,1f6,g,8p,8g,e.6,8p,d6,8p,8g,e.6,8p,d6,8p,8g,f.6,8p,e6,8p,8d6,1c6",
    "Friends:d=8,o=5,b=100:16d,g,a,c6,b,a,g.,16g,d,g,a,2a,p,16p,16d,g,a,c.6,16b,16a,g.,16c6,b,a,g,2d6,p,16p,16c6,c6,c6,c6,c6,c6,c.6,16c6,b,2b,p,16a,16a,16b,16c6,c6,c6,c6,c.6,16b,a.,16g,g.,16d,16g,16a,b,4a,4g,p",
    "Bond:d=4,o=5,b=320:c,8d,8d,d,2d,c,c,c,c,8d#,8d#,2d#,d,d,d,c,8d,8d,d,2d,c,c,c,c,8d#,8d#,d#,2d#,d,c#,c,c6,1b.,g,f,1g.",
    "FunkyTown:d=4,o=4,b=125:8c6,8c6,8a#5,8c6,8p,8g5,8p,8g5,8c6,8f6,8e6,8c6,2p,8c6,8c6,8a#5,8c6,8p,8g5,8p,8g5,8c6,8f6,8e6,8c6",
    "Flintstones:d=4,o=5,b=200:g#,c#,8p,c#6,8a#,g#,c#,8p,g#,8f#,8f,8f,8f#,8g#,c#,d#,2f,2p,g#,c#,8p,c#6,8a#,g#,c#,8p,g#,8f#,8f,8f,8f#,8g#,c#,d#,2c#",
    "Rock-a-bye Baby:d=4,o=6,b=125:8f5,8f5,4g#.5,8f5,4f5,2g#5,8f5,8g#5,4c#6,4c.6,8a#5,4a#5,4g#5,8d#5,8f5,4f#5,4d#5,8d#5,8f5,2f#5,8d#5,8f#5,8c6,8a#5,4g#5,4c6,2c#6,8c#5,8c#5,2c#6,8a#5,8f#5,2g#5,8f5,8c#5,4f#5,4g#5,4a#5,2g#5,8c#5,8c#5,2c#6,8a#5,8f#5,2g#5,8f5,8c#5,8f#5,16g#5,16f#5,4f5,4d#5,2c#5",
    "Mission Impossible:d=4,o=6,b=100:32d,32d#,32d,32d#,32d,32d#,32d,32d#,32d,32d,32d#,32e,32f,32f#,32g,16g,8p,16g,8p,16a#,16p,16c,16p,16g,8p,16g,8p,16f,16p,16f#,16p,16g,8p,16g,8p,16a#,16p,16c,16p,16g,8p,16g,8p,16f,16p,16f#,16p,16a#,16g,2d,32p,16a#,16g,2c#,32p,16a#,16g,2c,16p,16a#5,16c",
    "WhyDontYouGetaJob:d=4,o=6,b=40:32a#.7,16a#.7,32g#.7,32f#.7,32g#.7,32a#.7,32g#.7,32f#.7,32g#.7,16f#.7,8f#.7,32a#.7,16a#.7,32g#.7,32f#.7,32g#.7,32a#.7,32f#.7,4g#7,32a#.7,16a#.7,32g#.7,32f#.7,32g#.7,32a#.7,32g#.7,32f#.7,32g#.7,16f#.7,16f#.7,32d#.7,16f#.7,8a#.7,16g#.7,32f#.7,4f#7,32a#.7,16a#.7,32g#.7,32f#.7,32g#.7,32a#.7,32g#.7,32f#.7,32g#.7,16f#.7,8f#.7,32a#.7,16a#.7,32g#.7,32f#.7,32g#.7,32a#.7,32f#.7,4g#7,32a#.7,16a#.7,32g#.7,32f#.7,32g#.7,32a#.7,32g#.7,32f#.7,32g#.7,16f#.7,16f#.7,32d#.7,16f#.7,8a#.7,16g#.7,32f#.7,16f#7",
    "Hollowbrook:d=32,o=5,b=45:c.,d.,d#.,f.,g.,d#.,16g.,f#.,d.,16f#.,f.,c#.,16f.,c.,d., d#.,f.,g.,d#.,g.,c.6,a#.,g.,d#.,g.,8a#"
};
const int32_t songsCount = 17;

void handleMusic()
{
    while (1)
    {
        if (playingSong != -1) {
            play_rtttl(songs[playingSong]);
        } else {
            sleep(250);
        }
    }
}

std::string get_playing_song_name() {
    int8_t pos = songs[playingSong].find(":");
    return songs[playingSong].substr(0, pos);
}

std::string get_song_name(int32_t i) {
    int8_t pos = songs[i].find(":");
    return songs[i].substr(0, pos);
}

void playSong(int32_t i) {
    stopMusic = true;
    playingSong = i;
}

void stopSong() {
    stopMusic = true;
    playingSong = -1;
}